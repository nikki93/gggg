{"version":3,"sources":["webpack:////Users/nikki/Development/gggg/App.css?87f3","App.css","App.js","web-build/register-service-worker.js"],"names":["content","module","i","options","transform","undefined","locals","exports","push","pal","palx","theme","createMuiTheme","typography","fontFamily","fontSize","button","textTransform","palette","primary","main","indigo","dark","secondary","gray","contrastThreshold","tonalOffset","uiBackgroundColor","document","body","style","background","Canvas","setCanvasRef","useCallback","canvas","ctx","getContext","setup","W","width","H","height","rects","colorNames","Object","keys","x","Math","random","y","fillStyle","floor","length","speed","w","h","phase","PI","lastUpdateTime","performance","now","lastFPSUpdateTime","nFramesSinceLastFPSUpdate","fps","requestAnimationFrame","frame","t","dt","rect","sin","update","clearRect","fillRect","font","textBaseline","fillText","draw","flex","backgroundColor","alignItems","justifyContent","padding","borderRadius","overflow","canvasRef","onResize","UI","isLandscape","paddingLeft","paddingTop","flexDirection","paddingBottom","variant","color","navigator","serviceWorker","getRegistrations","then","registrations","App","useState","window","innerWidth","innerHeight","setFlexDirection","useEffect","addEventListener","removeEventListener","position","left","top","register","scope","info","catch","error","console"],"mappings":"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","file":"static/js/app.30adefd3.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../usr/local/lib/node_modules/expo-cli/node_modules/css-loader/dist/cjs.js!./App.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../usr/local/lib/node_modules/expo-cli/node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../usr/local/lib/node_modules/expo-cli/node_modules/css-loader/dist/cjs.js!./App.css\", function() {\n\t\tvar newContent = require(\"!!../../../../usr/local/lib/node_modules/expo-cli/node_modules/css-loader/dist/cjs.js!./App.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../usr/local/lib/node_modules/expo-cli/node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nexports.push([module.id, \"@import url(https://rsms.me/inter/inter.css);\", \"\"]);\n\n// Module\nexports.push([module.id, \"html { font-family: 'Inter', sans-serif; }\\n@supports (font-variation-settings: normal) {\\n  html { font-family: 'Inter var', sans-serif; }\\n}\\n\", \"\"]);\n\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { Text, View, TouchableOpacity, SafeAreaView } from 'react-native';\nimport Button from '@material-ui/core/Button';\nimport Slider from '@material-ui/core/Slider';\nimport ResponsiveCanvas from 'react-responsive-canvas';\nimport { createMuiTheme, responsiveFontSizes, ThemeProvider } from '@material-ui/core/styles';\nimport palx from 'palx';\nimport ScrollLock, { TouchScrollable } from 'react-scrolllock';\n\nimport './App.css';\n\nconst Fib = () => {\n  const [message, setMessage] = useState('...');\n\n  const onPressRun = () => {\n    const fib = (n) => {\n      if (n <= 1) {\n        return 1;\n      } else {\n        return fib(n - 1) + fib(n - 2);\n      }\n    };\n\n    const startTime = performance.now();\n    const fibResult = fib(40);\n    const fibTime = 0.001 * (performance.now() - startTime);\n    setMessage(`fib: ${fibResult} -- ${fibTime}`);\n  };\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        backgroundColor: uiBackgroundColor,\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}>\n      <TouchableOpacity onPress={onPressRun}>\n        <Text>run!</Text>\n      </TouchableOpacity>\n      <Text style={{ marginTop: 16 }}>{message}</Text>\n    </View>\n  );\n};\n\nconst pal = palx('#b81');\n\nlet theme = createMuiTheme({\n  typography: {\n    fontFamily: 'Inter',\n    fontSize: 14,\n    button: {\n      textTransform: 'none',\n    },\n  },\n  palette: {\n    primary: {\n      main: pal.indigo[4],\n      dark: pal.indigo[5],\n    },\n    secondary: {\n      main: pal.gray[2],\n      dark: pal.gray[3],\n    },\n    contrastThreshold: 3,\n    tonalOffset: 0.2,\n  },\n});\n\nconst uiBackgroundColor = pal.gray[0];\ndocument.body.style.background = uiBackgroundColor;\nconst canvasBackgroundColor = 'white';\nconst commonPadding = 38;\n\nconst Canvas = () => {\n  const setCanvasRef = useCallback((canvas) => {\n    if (!canvas) {\n      return;\n    }\n    const ctx = canvas.getContext('2d');\n\n    const setup = () => {\n      // Wait until non-zero size\n      let W = canvas.width;\n      let H = canvas.height;\n      if (W == 0 || H == 0) {\n        requestAnimationFrame(setup);\n        return;\n      }\n\n      // Init\n      const N = 40;\n      const rects = [];\n      {\n        // Rects\n        const colorNames = Object.keys(pal);\n        for (let i = 0; i < N; ++i) {\n          rects[i] = {\n            x: W * Math.random(),\n            y: H * Math.random(),\n            fillStyle:\n              pal[colorNames[Math.floor(Math.random() * colorNames.length)]][\n                Math.floor(1 + Math.random() * 5)\n              ],\n            speed: 0.5 * W * Math.random(),\n            w: (W * Math.random()) / 16,\n            h: (W * Math.random()) / 16,\n            phase: 2 * Math.PI * Math.random(),\n          };\n        }\n      }\n\n      // Update\n      let lastUpdateTime = 0.001 * performance.now();\n      let lastFPSUpdateTime = lastUpdateTime;\n      let nFramesSinceLastFPSUpdate = 0;\n      let fps = 0;\n      const update = () => {\n        // Time\n        const t = 0.001 * performance.now();\n        const dt = t - lastUpdateTime;\n        lastUpdateTime = t;\n        ++nFramesSinceLastFPSUpdate;\n        if (t - lastFPSUpdateTime > 1) {\n          fps = Math.floor(nFramesSinceLastFPSUpdate / (t - lastFPSUpdateTime) + 0.5);\n          lastFPSUpdateTime = t;\n          nFramesSinceLastFPSUpdate = 0;\n        }\n\n        // Rects\n        for (let i = 0; i < N; ++i) {\n          const rect = rects[i];\n          rect.x += rect.speed * Math.sin(t + rect.phase) * dt;\n        }\n      };\n\n      // Draw\n      const draw = () => {\n        // Clear\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = canvasBackgroundColor;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n        // Rects\n        for (let i = 0; i < N; ++i) {\n          const rect = rects[i];\n          ctx.fillStyle = rect.fillStyle;\n          ctx.fillRect(rect.x, rect.y, rect.w, rect.h);\n        }\n\n        // FPS\n        ctx.fillStyle = 'black';\n        ctx.font = '28px Inter';\n        ctx.textBaseline = 'top';\n        ctx.fillText(`fps: ${fps}`, 32, 32);\n      };\n\n      // Frame loop\n      const frame = () => {\n        W = canvas.width;\n        H = canvas.height;\n        update();\n        draw();\n        requestAnimationFrame(frame);\n      };\n      requestAnimationFrame(frame);\n    };\n    setup();\n  }, []);\n\n  // Canvas centered in a box\n  return (\n    <View\n      style={{\n        flex: 1,\n        backgroundColor: uiBackgroundColor,\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: commonPadding,\n      }}>\n      <View\n        style={{\n          borderRadius: 6,\n          overflow: 'hidden',\n          width: '100%',\n          height: '100%',\n        }}>\n        <ResponsiveCanvas canvasRef={setCanvasRef} onResize={() => {}} />\n      </View>\n    </View>\n  );\n};\n\nconst UI = ({ isLandscape }) => {\n  return (\n    <View\n      style={{\n        flex: 0.5,\n        backgroundColor: uiBackgroundColor,\n        padding: commonPadding,\n        paddingLeft: isLandscape ? 0 : undefined,\n        paddingTop: isLandscape ? undefined : 0,\n      }}>\n      <View style={{ flexDirection: 'row', paddingBottom: commonPadding }}>\n        <Button variant=\"contained\" color=\"primary\">\n          hai\n        </Button>\n        <View style={{ width: 24 }} />\n        <Button variant=\"contained\" color=\"secondary\">\n          ooh\n        </Button>\n      </View>\n      <View>\n        <Slider />\n      </View>\n    </View>\n  );\n};\n\nconst App = () => {\n  const [flexDirection, setFlexDirection] = useState(\n    window.innerWidth > window.innerHeight ? 'row' : 'column'\n  );\n\n  useEffect(() => {\n    const onResize = () => {\n      setFlexDirection(window.innerWidth > window.innerHeight ? 'row' : 'column');\n    };\n    window.addEventListener('resize', onResize);\n    return () => window.removeEventListener('resize', onResize);\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <SafeAreaView style={{ flex: 1 }}>\n        <ScrollLock>\n          <div\n            style={{\n              position: 'fixed',\n              width: '100%',\n              height: '100%',\n              left: 0,\n              top: 0,\n            }}>\n            <View style={{ width: '100%', height: '100%', flexDirection }}>\n              <Canvas />\n              <UI isLandscape={flexDirection == 'row'} />\n            </View>\n          </div>\n        </ScrollLock>\n      </SafeAreaView>\n    </ThemeProvider>\n  );\n  return;\n};\n\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.getRegistrations().then(function(registrations) {\n    for (let registration of registrations) {\n      registration.update();\n    }\n  });\n}\n\nexport default App;\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function() {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function(info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function(error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n"],"sourceRoot":""}